<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hostel Assist | Distributed System</title>
    <!-- Link to external CSS file -->
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="sidebar">
        <h2><i class="fa fa-server"></i> Hostel Assist</h2>
        <div class="nav-item active" onclick="show('notices')">ğŸ“¢ Notices (REST)</div>
        <div class="nav-item" onclick="show('complaints')">ğŸ”§ Complaints (Socket)</div>
        <div class="nav-item" onclick="show('rooms')">ğŸ  Rooms (RMI)</div>
        <div class="nav-item" onclick="show('mess')">ğŸ¥£ Mess (Shared Mem)</div>
        <div class="nav-item" onclick="show('p2p')">ğŸ”— P2P Sharing</div>
    </div>

    <div class="content">
        <!-- VERCEL FALLBACK INDICATOR -->
        <div id="status-indicator" class="status-badge" style="display:none">âš ï¸ Backend Offline - Running in Simulation Mode</div>

        <!-- NOTICE BOARD -->
        <div id="notices" class="card active">
            <h3>Digital Notice Board</h3>
            <span class="subtitle">Communication: REST API (Port 8080)</span>
            <div id="noticeList" class="item-list">Loading...</div>
            <div class="input-area">
                <input type="text" id="noticeInput" placeholder="Enter new announcement...">
                <button class="btn-primary" onclick="postNotice()">Post Notice</button>
            </div>
        </div>

        <!-- MESS -->
        <div id="mess" class="card">
            <h3>Mess Feedback</h3>
            <span class="subtitle">Communication: Shared Memory / IPC (Port 8081)</span>
            <div class="vote-group">
                <button class="vote-btn" onclick="vote('good')">ğŸ˜‹ <span style="font-size:1rem">Good</span></button>
                <button class="vote-btn" onclick="vote('average')">ğŸ˜ <span style="font-size:1rem">Average</span></button>
                <button class="vote-btn" onclick="vote('poor')">ğŸ¤¢ <span style="font-size:1rem">Poor</span></button>
            </div>
            <div id="messStats" class="stats-box">
                Stats will appear here...
            </div>
        </div>
        
        <!-- COMPLAINTS -->
        <div id="complaints" class="card">
            <h3>Lodge Complaint</h3>
            <span class="subtitle">Communication: TCP Sockets (Port 5000)</span>
            <input type="text" placeholder="Room Number (e.g. 101)">
            <textarea rows="3" placeholder="Describe the issue..."></textarea>
            <button class="btn-secondary" onclick="simulateSocket(this)">Submit Complaint</button>
        </div>

        <!-- ROOMS -->
        <div id="rooms" class="card">
            <h3>Room Information</h3>
            <span class="subtitle">Communication: RMI Registry (Port 1099)</span>
            <input type="text" id="roomInput" placeholder="Enter Room No (101)">
            <button class="btn-primary" onclick="simulateRMI()">Search Registry</button>
            <div id="rmiResult" style="margin-top:15px"></div>
        </div>

        <!-- P2P -->
        <div id="p2p" class="card">
            <h3>P2P File Sharing</h3>
            <span class="subtitle">Communication: Decentralized Peer Nodes (Port 6000)</span>
            <div class="item-list">
                <div>ğŸ“„ <b>Lab_Manual.pdf</b> <button class="btn-sm" onclick="alert('Downloading from Peer Node...')">Download</button></div>
                <div>ğŸ“„ <b>Notes.txt</b> <button class="btn-sm" onclick="alert('Downloading from Peer Node...')">Download</button></div>
            </div>
        </div>
    </div>

    <!-- Link to external JS file -->
    <script src="js/app.js"></script>
</body>
</html>